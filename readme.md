# REST API по определению в строке имени, фамилии и отчества

## Как начать?
Для работы требуется установленный Docker

1. Вам необходимо склонировать данный репозиторий любым доступным способом.
2. Открыть терминал(командную строку), перейти в склонированный репозиторий(`full_name_api`)
и набрать команду `docker build .`, после чего начнет собираться образ на основе `Dockerfile`, находящегося в репозитории.
Необходимо дождаться окончания сборки образа, об окончании будет свидетельстовать приглашение ввода
терминала, пример: `C:\Users\User\Documents\full_name_api>`    
### Запуск сервера
Cначала необходимо запустить созданный образ, для этого:

1. Необходимо узнать id образа, для этого набираем в терминале(командной строке) команду `docker images`, 
находим созданный образ и копируем его id(поле `IMAGE ID`), выглядит он подобным образом: `683b0e7ec6e4`.
2. Набираем в терминале(командной строке) команду `docker run -p <ip adress>:<internal port>:<external port> <image id>`.
Пример: `docker run -p 127.0.0.1:5000:5000 683b0e7ec6e4`
3. Далее будет приглашение в терминал контейнера, в котором непосредственно запустим наш вебсервер следующей командой:
`gunicorn3 --bind 0.0.0.0:5000 wsgi:app`.
Также можно запустить сервер, не входя в терминал контейнера, для этого необходимо узнать container id командой
`docker ps`, после чего набрать в терминале(командной строке) 
`docker exec <container id> gunicorn3 --bind 0.0.0.0:5000 wsgi:app`. Сервер запустится, после чего на него можно
отправлять запросы.   
  
 
Запросы необходимо отправлять по адресу `http://127.0.0.1:5000/validate_full_name/`
### Структура запроса
Для того чтобы узнать, что в вашей строке является именем, фамилией и отчествовом,
необходимо отправить POST-запрос вида:

`{
    "full_name": "lastname, middlename, firstname"
}`

Причем порядок следования слов в строке значения не имеет, в строке также могут отсутствовать одно или несколько слов.

Важно, чтобы слова в строке были отделены друг от друга пробелами(количество пробелов может любым) и/или запятыми, также
важно наличие и правильное написание ключа `"full_name"`.

### Пример отправки запроса и ответа сервера

Запрос: `{
    "full_name": "Иванов,                    Иванович, Петр"
}`

Ответ сервера: `{"first_name": "Петр", "lastname": "Иванов", "middlename": "Иванович", "probability": 1.0}`

### Примеры невалидных запросов:

При ошибке в ключе `"full_name"` или при его отстутствии сервер вернет ошибку: 

`{"status": "error", "info": "full_name key not found in JSON"}`

При отправке пустой строки или строки, имеющей фамилию, имя и отчество в не единственном
экземпляре сервер вернет ошибку: 

`{"status": "error", "info": "wrong length of input string"}`

При наличии в строке специальных символов(кроме запятой и дефиса) сервер вернет ошибку:

`{"status": "error", "info": "not valid string"}`

Если по каким-либо причинам нарушена структура json, сервер также вернет ошибку:

`{"status": "error", "info": "not valid JSON request"}`

Примечание: на данном этапе проектирования вероятность определения ФИО(probability) носит
символический характер
